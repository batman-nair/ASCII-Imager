<!DOCTYPE html>
<html>
  <title> Ascii-Imager: Image to Ascii converter </title>
  <head>
    <meta name="title" content="Ascii-Imager">
    <meta name="description" content="Image to Ascii converter">

    <link rel="stylesheet" type="text/css" href="css/main.css">
  </head>
<body>
  <h1> Image to Ascii Converter </h1>
  <label id="file-label" for="file"> Choose file to convert </label>
  <input id="file" type="file" accept="image/*" onchange="previewAndMakeAscii()"><br>

  <h3> Preview Image </h3>
  <img id="previewImg" src="samples/dog.jpg">
  <h3> Ascii Image </h3>
  <pre id="asciiOutput">
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@@@@@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGOC+CCOGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GGGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG+::::::C@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@@@Gc:::+OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMO;:::::,,;C@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG+::::::;cGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMO;:::::::,,+G@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@C:,,:;;;;:+@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMC;;::::::::,:CMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGc:,:;;;;;::;GMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@c:;;;;;;:::::,:cGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGC:::;;;;;+;:::OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG;,:;;;;;;;;::,,,;O@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@C;:::;;;;;;+;:,.:GMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMC,,;;++++;;::::::,:+CG@@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GC;;:,:::;;++++;;:,.:GMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@+,,;;++c++;;;::,:,,,,,+@MM@@GGG@@MMMMMM@@@@G@@@G@@@OMMMC:,,,,,,:;;+++++;;:,.;@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@+,,:;++ccc+;:::,,,,,,:cMMM@OCccCCCCOCCCCCCCCCOOOOOOC@MMO;:,,:::;;;+ccc+;:,,:;GMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@O+.,:;;+ccccc+;,,,,,:;OMM@GOOOCcccccc+;;;;++cccCCCCc+cO@MGc:::::;+cCCc+;:,,,,+GMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG;..,;;;++cccc+:,,,,;O@GCOOCcCOOOCCC;;:,.,:;++cccccccc++CGG+::::+ccCc+;:,,,,,c@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@c..,::;;+++++;:,,,:CO++cCCcccOOOCOOc;:.  .,:+cCCCCccccCccOO+;;+cccc+;:,,...;GMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG+...,:;;+++++;:,,:;c+cc++cCOOOOOGOOC+:,.  .,+cCCCCCCCOOOCCCc+++cCCc+;:,,.,:c@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@;..,::;;++++++;:;+++ccccCCOCOOOOOOOcc;,.  .,;+CCCcCCCOOOGOCCccCOOc+;::,,,+CCMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@c,.,:;;;;:;;;+c+++;++ccCOOOOOOCCOCOc+;:.. .:;;cccCccCCOGGGGCCOOOcc;::::;+;+GMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@;. .,,::,:;::;c+;+++ccOOOGOGOOccccc+:,.. .,:;:;;;+cCCOG@@@@OCCC+;:::,,..,cMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMO,...,,,:;;;;cc;;;+cCCOOOOOCc;;:::;;:,.. .......,:;+COG@@@@GCCCc+;:,,,..,cMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMC+cc+;;+cccCO++c+cCCCOGGOC+:,,...,,,,.. ........,,;cO@MMM@@@GOGOC+:::::c@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GOCG@@@GCccccCOOOOOOCc;,.......,,.. .. .....,,,;CO@@@@@@@@G@GOCCOOGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@@GG@@MM@OCCCcCCCOOOCc;,..........,,.......,,,,;;::;+OG@@@MM@GGGGGOG@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@OG@@@M@GOCCCccCOOOc;:::::,,,,.....,,......,:;cCc;;:;++CG@MMMMM@GG@OOMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGG@@@GOOOOOOOCCccc;::;+cCc;:,,,,...,......,;+COGGGOOccCCO@MMMMMM@@G@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@O@@GOOOOGGGOC;,,+CCGCOcc+C+:,.,..... .,,.,:+C@OG@cc@@GCC@MMMMMMM@@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGOOOOGGGGGGOC+,.,::cC:cG+:;O+;,....,. .,:::;cC@ccc:CGO;+cOOOGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGCCCGGGGOc;,,..,...,+C;;+ccOOc;:,:+:.. .;Cc++OGGOCOGC;;+cc++cOMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@OCOOG@@C;,..........,;ccCCccCc+++c+:....,:+CCc+ccc+c;:;c+;;;;+OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@OOOG@@O;,..........,,,,::::::+++;,.,....,,,,;++;;;;+;+Cc;;;;;;C@MM@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@OOGG@G+:,.......,,.,,,,:::,.,::.... .......,,,:;;+cccCc;::;+;+cOMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGOCOGOc;,,........,...,,,,....,............,,,:::::++cc;:::;+;;+C@MM@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GOCCCc;,,................    ..............,,,,:;:::+c;::;;;c;;ccGMM@@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GOCcc;,,............   ..   ................,,,:;;;:;+;;;;;c+;;+ccO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GGCc+;,.....,,,......  ............. ........,,,:;;;;++++++c+;;;;;+O@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GGCc;:.......,,,......................,,::,,,:::,:;+cc++cc+cc++++cCC@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GOC+;:,,..,.,,,,,,,.................,;+cCCCccCc+;;+cCCCCCCCCcccCCCO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMOc;;::,,,,,,,,:::,,,,,.......... ..,cOOOOOOOOG@@GO+;cCCOOOOOOOOOOOG@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGC:,,,,,,,,,::;;:,,,,,,........  ..:OGOCcCOGOG@@@@c;+cCOGGGGGOCcccC@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGc;;:,.......,,,::,,,,,,,,.........:GG@MMM@@@@MMMMO+cccOOOOCc++;+cGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG+::::,..........,,,::,,::,........,CG@MM@@M@MMMMMO++cOOCc++;;+cO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@C+,,:::,,...........,:,,,:,.,,.....,;CCCOO@M@MM@GOOcCCOOc+;;;+cO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@C;,,::::,...........,,:,,,:,.,,,,,,,::cG@MMM@@@OcOOCOOOCc+++cOG@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG+:,,:,:::,,...,...,,,:;:,,:,,,,,,,:::;+cCGGC+cCOOOOOOOCc+cCOG@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG+::::,,:::,,,,,,,,,,::;+;;;::::::::;cCCCOc+++cCCOOCGOCCcCCCO@M@@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGC+:::,,:::::::::::,,::::;;+cCcccccccCCOGG@GCCCCcCCCOOOOCCccCO@GGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG+::,::,,,,:::::::::::::;;+ccCOCCcccCCOCOCcCOGGGGGGGGGOCCCCOGOO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMG+,,,,,:,,,,,::::::::::::;;+++cCCOGGOOOOOOOOGGGGGGGGGGOOCCccccO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@+,..,,,,,,,,,,::::::;;;;;;++;;;++ccCCOOGGGGGG@@@@@@GGOCCccccC@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@c:,..,,,,,,,,,,,::::::;;;++++c++cCCCOOG@@G@@@@@@@@@GOCccccccC@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMO;....,,,,,,,,,,,,,::::;::;;;+++cccOCCOGGGG@G@@@@@GGOCCcccccOMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@c,....,,,,,,,,,,,,,,:::::::::;:;;;+c++CCOOOOOOGGGOOOOOOCc+cCO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@c:,...,,,,,,,.,,,,,,,:,,,,,::::::;;+c;+cCCcCCCCOOOOOOOCCCCccCG@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@C;,...,,,,,,,,,,,,,,,,,,,,,,,::::;;+;;;+cccCCOCCCCOOOOCcc+COOGG@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@C;,...,,,,,,,,,,,,,,,,,,,,,,::::;;;;:;;+ccCCccccccCCCCCCcccOG@@@@@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMOc;,...,,,,,,,,,,,,,,,,,,,,:::::;:;::;;+++c+cc++ccccCCcccCCOOGGCCO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMOC+:...,,,,,,,,,,,,,,:,,,,,,:::::::::;;;+;;+cc++ccCcCCcccCOOGGOc++C@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGO+:,,,,,,,,,,,,,,,,,:,,,,:::::::::::;;;;;+;+c+++ccc++cccCOOOCCCCCCGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@GGc;,,.,,,,,,,,,,,,,,:,,,:::::::::::;;;;;;++cc++++cc+++ccCCccccccccC@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGGO+:,..,,,,,,,,,,,,,::,,::::::::::;::;;;;;++++;+++++++++ccCcc++++++OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGOGc:,,,,,,,,,,,,,,,,::,,,::,:::::::::::;;++++;;+++++++cccCCcc+++;;+GMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGCCOc;:,,,,,,,,,,,,:,::,,,,,,::::::;:::;::;;+;:;++++;++ccCCcc+++++++OMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMGOOC+;,,,,,,,,,,,,,,,::,,,,,,,::::::,::::::;;::;++++;;;+cCcc++++;;;+c@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMOOOOCc::,,,,,,,,,,,,,::,,,,,,,::::::,:::::::::::;++++;++cCc++;++++ccOMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@OOOOOC+:::,,,,,,,,,,,,,,,,,,,,::::::::::::::::::;;+;++;++c+;;;;;;;+cO@MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM@OOOOCcc;;:,,,,,,,,,,,,,,,,,,,:,:::::,,,,::,::::;;;;;++++++c+;;;;+;+cCGMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
</pre>
  <div class="settings-container">
  <div class="label-container">
    <label for="font-scale"> Font Size: </label>
    <input id="font-scale" type="range" min="0.5" max="2" step="0.1" value="0.6">
  </div>
  <div class="label-container">
    <input type="checkbox" id="invert" name="invert" value="Invert">
    <label for="invert"> Invert </label>
  </div>
  </div>
<script>
  var charRatio = 0.6, charWidth = 8, charHeight = 15, charScale = 0.6;
  text = document.createElement("pre");
  document.body.appendChild(text);
  text.style.height = 'auto';
  text.style.width = 'auto';
  text.style.position = 'absolute';
  text.style.whiteSpace = 'pre';
  text.style.lineHeight = '1.1em';
  text.innerHTML = 'M';
  charWidth = text.clientWidth;
  charHeight = text.clientHeight;
  charRatio = text.clientWidth/text.clientHeight;
  document.body.removeChild(text);

  var canvas = document.createElement('canvas'),
      ctx = canvas.getContext('2d');
  var asciiOutput = document.querySelector("pre");
  var previewImg = document.querySelector('img');

  function updateAsciiTextFromImgSrc(imgSrc, isInverted) {
      var img = new Image();
      img.src = imgSrc;
      img.onload = () => updateAsciiText(img, isInverted);
  }

  function updateAsciiText(img, isInverted) {
      var asciiShades = "M@GOCc+;:,. ".split(""),
	  asciiDepth = asciiShades.length;
      if (isInverted)
	  asciiShades = asciiShades.reverse();

      var widthLimit = previewImg.clientWidth, // screen.width*0.8,
	  heightLimit = previewImg.clientHeight; //screen.height*0.8;
      var charCols = widthLimit/(charWidth*charScale),
	  charRows = heightLimit/(charHeight*charScale);

      var minXScale = charCols/img.width,
	  minYScale = charRows/(img.height*charRatio);
      var scale = minYScale;
      if (minXScale < minYScale)
	  scale = minXScale;

      canvas.width = parseInt(img.width * scale);
      canvas.height = parseInt(img.height * scale * charRatio);
      ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

      var asciiText = "";
      for (var yy = 0; yy < canvas.height; ++yy) {
	  for (var xx = 0; xx < canvas.width; ++xx) {
	      var pixel = ctx.getImageData(xx, yy, 1, 1);
	      var data = pixel.data;
	      var gray = 0.2627*data[0] + 0.6780*data[1] + 0.0593*data[2]; // ITU-R BT.2100 standard
	      if (gray > 255)
		  gray = 255
	      var shade = 1;
	      while (gray > shade*255/asciiDepth)
		  ++shade;
	      asciiText += asciiShades[shade-1];
	  }
	  asciiText += '\n';
      }
      asciiOutput.innerText = asciiText;
      asciiOutput.style.fontSize = charScale + "em";
  }

  function previewAndMakeAscii() {
      var reader = new FileReader();
      var file = document.getElementById("file").files[0];
      reader.addEventListener("load", function () {
	  previewImg.src = reader.result;
	  updateAsciiTextFromImgSrc(reader.result);
      }, false);

      if (file) {
	  reader.readAsDataURL(file);
      }
  }

  updateAsciiTextFromImgSrc(previewImg.src);

  var slider = document.getElementById("font-scale");
  slider.oninput = function() {
      charScale = parseFloat(this.value);
      updateAsciiTextFromImgSrc(previewImg.src);
  }
  var invert = document.getElementById("invert");
  invert.oninput = function() {
      isInverted = this.checked;
      updateAsciiTextFromImgSrc(previewImg.src, isInverted);
  }
</script>
</body>
</html>
